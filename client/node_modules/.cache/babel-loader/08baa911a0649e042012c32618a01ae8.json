{"ast":null,"code":"var _jsxFileName = \"/Users/adityasamant/Documents/Programs i made/HCA Front End DevCode Challenge/hca-video-library/src/components/covidVideo.jsx\",\n    _s = $RefreshSig$();\n\n/**\n * Purpose: Display Covid-19 related videos in YouTube.\n *\n */\n//Imports\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport youtubeAPI from \"../apis/youtube\";\nimport { alpha, Grid, Card, CardContent, CardMedia, IconButton, InputBase, makeStyles, Typography, Collapse } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Alert from \"@material-ui/lab/Alert\"; //const playlistId = 'PLogA9DP2_vSekxHP73PXaKD6nbOK56CJw';\n//Styling\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  toolbar: theme.mixins.toolbar,\n  gridContainer: {\n    minHeight: \"100vh\",\n    paddingBottom: theme.spacing(10)\n  },\n  card: {\n    height: \"400 px\"\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    border: \"1px solid orange\",\n    backgroundColor: alpha(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: alpha(theme.palette.common.white, 0.25)\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(3),\n      width: \"auto\"\n    }\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  inputRoot: {\n    color: \"inherit\"\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"20ch\"\n    }\n  }\n}));\nexport default function CovidVideos() {\n  _s();\n\n  //Consructors\n  const [data, setData] = useState([]);\n  const [alert, setAlert] = useState(false);\n  const [notFound, setNotFound] = useState(false); //403 Error Msg\n\n  const timeOutMsg = \"403 Error: The maximum number of Requests to be made for the Day, has been reached.\" + \"Please try again tommorrow. \"; //If app loads or reloads: Populate either from API or from Session Storage.\n\n  useEffect(() => {\n    const stored = sessionStorage.getItem(\"covidVidData\");\n\n    if (stored && data.length === 0) {\n      //console.log(\"GETTING FROM COVID SESSION STORED\");\n      const resData = JSON.parse(stored);\n      setData(resData);\n    } else if (data.length === 0 && !stored) {\n      let fullRes = \"\";\n\n      async function getCovidVids(pageToken) {\n        //console.log(\"GETTING COVID VIDS\")\n        const paramString = typeof pageToken !== 'undefined' ? {\n          q: \"COVID-19 Vaccine Podcast\",\n          nextPageToken: pageToken\n        } : {\n          q: \"COVID-19 Vaccine Podcast\"\n        };\n        const res = await youtubeAPI.get(\"/search\", {\n          params: paramString\n        }).catch(function (error) {\n          console.log(\"ERROR!!\", error.response);\n\n          if (error.response.status === 403) {\n            setAlert(true);\n          }\n        });\n        return res;\n      }\n\n      let res = getCovidVids();\n      fullRes.concat(JSON.stringify(res.data.items));\n\n      while ('nextPageToken' in res.data) {\n        res = getCovidVids();\n      }\n    }\n  }, [data, alert]);\n  const classes = useStyles();\n\n  const keyPress = event => {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n      const keywords = event.target.value;\n      let filteredVids = data.filter(item => item.snippet.title.toLowerCase().includes(keywords.toLowerCase()));\n\n      if (filteredVids.length === 0) {\n        setNotFound(true);\n        const item = JSON.parse(sessionStorage.getItem(\"covidVidData\"));\n        setData(item.items);\n      } else {\n        setData(filteredVids);\n      }\n    }\n  };\n\n  const handleBlank = event => {\n    if (event.target.value === \"\") {\n      const item = JSON.parse(sessionStorage.getItem(\"covidVidData\"));\n      setData(item.items);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.container,\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n      in: notFound,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"filled\",\n        severity: \"error\",\n        action: /*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"close\",\n          color: \"inherit\",\n          size: \"small\",\n          onClick: () => {\n            setNotFound(false);\n          },\n          children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n            fontSize: \"inherit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this),\n        children: \"Video not found in this list, please Make this search in Non-Covid Video. Otherwise, this video may no longer exist in the HCA Healthcare Channel.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n      in: alert,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"filled\",\n        severity: \"error\",\n        action: /*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"close\",\n          color: \"inherit\",\n          size: \"small\",\n          onClick: () => {\n            setAlert(false);\n          },\n          children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n            fontSize: \"inherit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this),\n        children: timeOutMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.toolbar,\n      children: \" \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      direction: \"row\",\n      spacing: 3,\n      justifyContent: \"space-between\",\n      alignItems: \"stretch\",\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.search,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.searchIcon,\n            children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputBase, {\n            placeholder: \"Search Videos...\",\n            classes: {\n              root: classes.inputRoot,\n              input: classes.inputInput\n            },\n            fullWidth: true,\n            onKeyDown: keyPress,\n            onChange: handleBlank,\n            inputProps: {\n              \"aria-label\": \"search\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), data.length > 0 ? data.map(item => /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        component: Card,\n        className: classes.card,\n        children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n          component: \"iframe\",\n          title: item.snippet.title,\n          src: `https://www.youtube.com/embed/${item.id.videoId}`,\n          allowFullScreen: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            align: \"center\",\n            gutterBottom: true,\n            variant: \"h5\",\n            component: \"h2\",\n            children: item.snippet.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            align: \"left\",\n            variant: \"subtitle\",\n            children: [\"Description:\", item.snippet.description !== \"\" ? item.snippet.description : \"Not Available\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            align: \"left\",\n            paragraph: true,\n            children: [\"Date: \", item.snippet.publishedAt.substring(0, 10)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          textAlign: \"center\",\n          children: \"No Videos Found in Library. Please contact admin if \\\"403 Error\\\" message is not showing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CovidVideos, \"Y1uiX3bgAaLMEmIKx34iJM3YiMU=\", false, function () {\n  return [useStyles];\n});\n\n_c = CovidVideos;\n\nvar _c;\n\n$RefreshReg$(_c, \"CovidVideos\");","map":{"version":3,"sources":["/Users/adityasamant/Documents/Programs i made/HCA Front End DevCode Challenge/hca-video-library/src/components/covidVideo.jsx"],"names":["React","useState","useEffect","Header","youtubeAPI","alpha","Grid","Card","CardContent","CardMedia","IconButton","InputBase","makeStyles","Typography","Collapse","SearchIcon","CloseIcon","Alert","useStyles","theme","toolbar","mixins","gridContainer","minHeight","paddingBottom","spacing","card","height","search","position","borderRadius","shape","border","backgroundColor","palette","common","white","marginRight","marginLeft","width","breakpoints","up","searchIcon","padding","pointerEvents","display","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","CovidVideos","data","setData","alert","setAlert","notFound","setNotFound","timeOutMsg","stored","sessionStorage","getItem","length","resData","JSON","parse","fullRes","getCovidVids","pageToken","paramString","q","nextPageToken","res","get","params","catch","error","console","log","response","status","concat","stringify","items","classes","keyPress","event","key","preventDefault","keywords","target","value","filteredVids","filter","item","snippet","title","toLowerCase","includes","handleBlank","container","root","input","map","id","videoId","description","publishedAt","substring"],"mappings":"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","sourcesContent":["/**\n * Purpose: Display Covid-19 related videos in YouTube.\n *\n */\n\n//Imports\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport youtubeAPI from \"../apis/youtube\";\nimport {\n  alpha,\n  Grid,\n  Card,\n  CardContent,\n  CardMedia,\n  IconButton,\n  InputBase,\n  makeStyles,\n  Typography,\n  Collapse,\n} from \"@material-ui/core\";\n\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Alert from \"@material-ui/lab/Alert\";\n\n//const playlistId = 'PLogA9DP2_vSekxHP73PXaKD6nbOK56CJw';\n\n//Styling\nconst useStyles = makeStyles((theme) => ({\n  toolbar: theme.mixins.toolbar,\n  gridContainer: {\n    minHeight: \"100vh\",\n    paddingBottom: theme.spacing(10),\n  },\n  card: {\n    height: \"400 px\",\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    border: \"1px solid orange\",\n    backgroundColor: alpha(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: alpha(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(3),\n      width: \"auto\",\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  inputRoot: {\n    color: \"inherit\",\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"20ch\",\n    },\n  },\n}));\n\n\nexport default function CovidVideos() {\n  //Consructors\n  const [data, setData] = useState([]);\n  const [alert, setAlert] = useState(false);\n  const [notFound, setNotFound] = useState(false);\n\n  //403 Error Msg\n  const timeOutMsg =\n    \"403 Error: The maximum number of Requests to be made for the Day, has been reached.\" +\n    \"Please try again tommorrow. \";\n\n  //If app loads or reloads: Populate either from API or from Session Storage.\n  useEffect(() => {\n    const stored = sessionStorage.getItem(\"covidVidData\");\n    if (stored && data.length === 0) {\n      //console.log(\"GETTING FROM COVID SESSION STORED\");\n      const resData = JSON.parse(stored);\n      setData(resData);\n    } else if (data.length === 0 && !stored) {\n      let fullRes = \"\";\n      async function getCovidVids(pageToken) {\n        //console.log(\"GETTING COVID VIDS\")\n        const paramString = (typeof pageToken !=='undefined')? ({\n          q: \"COVID-19 Vaccine Podcast\",\n          nextPageToken: pageToken\n        }):({q:\"COVID-19 Vaccine Podcast\"});\n        const res = await youtubeAPI\n          .get(\"/search\", {\n            params: paramString,\n          })\n          .catch(function (error) {\n            console.log(\"ERROR!!\", error.response);\n            if (error.response.status === 403) {\n              setAlert(true);\n            }\n          });\n          return res;\n      }\n      let res = getCovidVids();\n      fullRes.concat(JSON.stringify(res.data.items));\n      while('nextPageToken' in res.data){\n        res = getCovidVids()\n      }\n    }\n  }, [data, alert]);\n  const classes = useStyles();\n  const keyPress = (event) => {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n      const keywords = event.target.value;\n      let filteredVids = data.filter((item) =>\n        item.snippet.title.toLowerCase().includes(keywords.toLowerCase())\n      );\n      if (filteredVids.length === 0) {\n        setNotFound(true);\n        const item = JSON.parse(sessionStorage.getItem(\"covidVidData\"));\n        setData(item.items);\n      } else {\n        setData(filteredVids);\n      }\n    }\n  };\n  const handleBlank = (event) => {\n    if (event.target.value === \"\") {\n      const item = JSON.parse(sessionStorage.getItem(\"covidVidData\"));\n      setData(item.items);\n    }\n  };\n  return (\n    <div className={classes.container}>\n      <Header />\n      {/*Show alert */}\n      <Collapse in={notFound}>\n        <Alert\n          variant=\"filled\"\n          severity=\"error\"\n          action={\n            <IconButton\n              aria-label=\"close\"\n              color=\"inherit\"\n              size=\"small\"\n              onClick={() => {\n                setNotFound(false);\n              }}\n            >\n              <CloseIcon fontSize=\"inherit\" />\n            </IconButton>\n          }\n        >\n          Video not found in this list, please Make this search in Non-Covid\n          Video. Otherwise, this video may no longer exist in the HCA Healthcare\n          Channel.\n        </Alert>\n      </Collapse>\n      <Collapse in={alert}>\n        <Alert\n          variant=\"filled\"\n          severity=\"error\"\n          action={\n            <IconButton\n              aria-label=\"close\"\n              color=\"inherit\"\n              size=\"small\"\n              onClick={() => {\n                setAlert(false);\n              }}\n            >\n              <CloseIcon fontSize=\"inherit\" />\n            </IconButton>\n          }\n        >\n          {timeOutMsg}\n        </Alert>\n      </Collapse>\n\n      {/*Create space between grid & app bar*/}\n      <div className={classes.toolbar}> </div>\n\n      {/*Render YouTube Videos in Components*/}\n      <Grid\n        container\n        direction=\"row\"\n        spacing={3}\n        justifyContent=\"space-between\"\n        alignItems=\"stretch\"\n      >\n        <Grid item xs={12}>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              placeholder=\"Search Videos...\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              fullWidth={true}\n              onKeyDown={keyPress}\n              onChange={handleBlank}\n              inputProps={{ \"aria-label\": \"search\" }}\n            />\n          </div>\n        </Grid>\n        {/**Take Json input from search term and display items in Card. */}\n        {data.length > 0 ? (\n          data.map((item) => (\n            <Grid\n              item\n              xs={12}\n              sm={6}\n              md={3}\n              component={Card}\n              className={classes.card}\n            >\n              <CardMedia\n                component=\"iframe\"\n                title={item.snippet.title}\n                src={`https://www.youtube.com/embed/${item.id.videoId}`}\n                allowFullScreen\n              />\n              <CardContent>\n                <Typography\n                  align=\"center\"\n                  gutterBottom\n                  variant=\"h5\"\n                  component=\"h2\"\n                >\n                  {item.snippet.title}\n                </Typography>\n                <Typography align=\"left\" variant=\"subtitle\">\n                  Description:\n                  {item.snippet.description !== \"\"\n                    ? item.snippet.description\n                    : \"Not Available\"}\n                </Typography>\n                <Typography align=\"left\" paragraph>\n                  Date: {item.snippet.publishedAt.substring(0, 10)}\n                </Typography>\n              </CardContent>\n            </Grid>\n          ))\n        ) : (\n          <Grid item xs={12}>\n            <Typography variant=\"h5\" textAlign=\"center\">\n              No Videos Found in Library. Please contact admin if \"403 Error\"\n              message is not showing\n            </Typography>\n          </Grid>\n        )}\n      </Grid>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}